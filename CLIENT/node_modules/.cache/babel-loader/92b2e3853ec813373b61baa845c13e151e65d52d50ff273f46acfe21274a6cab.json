{"ast":null,"code":"var _jsxFileName = \"/Users/midhu1/Projects/mediaconsumption/CLIENT/src/components/common/Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Search = ({\n  onSelect\n}) => {\n  _s();\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n  useEffect(() => {\n    if (query.length > 2) {\n      // Only search if query length > 2\n      const fetchMovies = async () => {\n        try {\n          const response = await axios.get(`https://api.themoviedb.org/3/search/multi?api_key=89d44f8db4046fedba0c0d1a0ab8fc74&language=en-US&query=${encodeURIComponent(query)}&page=1&include_adult=false`);\n          setResults(response.data.results);\n        } catch (error) {\n          console.error('Error fetching data:', error);\n        }\n      };\n      fetchMovies();\n    } else {\n      setResults([]);\n    }\n  }, [query]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: query,\n      onChange: e => setQuery(e.target.value),\n      placeholder: \"Search for a movie or TV show...\",\n      className: \"input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), results.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"results\",\n      children: results.map(item => {\n        var _item$release_date, _item$first_air_date;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => onSelect(item),\n          children: [item.title || item.name, \" (\", ((_item$release_date = item.release_date) === null || _item$release_date === void 0 ? void 0 : _item$release_date.substring(0, 4)) || ((_item$first_air_date = item.first_air_date) === null || _item$first_air_date === void 0 ? void 0 : _item$first_air_date.substring(0, 4)), \")\"]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n};\n_s(Search, \"nfFCkWxd9oyjBdRn730zz5KxriU=\");\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Search","onSelect","_s","query","setQuery","results","setResults","length","fetchMovies","response","get","encodeURIComponent","data","error","console","children","type","value","onChange","e","target","placeholder","className","fileName","_jsxFileName","lineNumber","columnNumber","map","item","_item$release_date","_item$first_air_date","onClick","title","name","release_date","substring","first_air_date","id","_c","$RefreshReg$"],"sources":["/Users/midhu1/Projects/mediaconsumption/CLIENT/src/components/common/Search.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst Search = ({ onSelect }) => {\n    const [query, setQuery] = useState('');\n    const [results, setResults] = useState([]);\n\n    useEffect(() => {\n        if (query.length > 2) { // Only search if query length > 2\n            const fetchMovies = async () => {\n                try {\n                    const response = await axios.get(`https://api.themoviedb.org/3/search/multi?api_key=89d44f8db4046fedba0c0d1a0ab8fc74&language=en-US&query=${encodeURIComponent(query)}&page=1&include_adult=false`);\n                    setResults(response.data.results);\n                } catch (error) {\n                    console.error('Error fetching data:', error);\n                }\n            };\n\n            fetchMovies();\n        } else {\n            setResults([]);\n        }\n    }, [query]);\n\n    return (\n        <div>\n            <input\n                type=\"text\"\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n                placeholder=\"Search for a movie or TV show...\"\n                className=\"input\"\n            />\n            {results.length > 0 && (\n                <ul className=\"results\">\n                    {results.map(item => (\n                        <li key={item.id} onClick={() => onSelect(item)}>\n                            {item.title || item.name} ({item.release_date?.substring(0, 4) || item.first_air_date?.substring(0, 4)})\n                        </li>\n                    ))}\n                </ul>\n            )}\n        </div>\n    );\n};\n\nexport default Search;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,MAAM,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC7B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAE1CC,SAAS,CAAC,MAAM;IACZ,IAAIO,KAAK,CAACI,MAAM,GAAG,CAAC,EAAE;MAAE;MACpB,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;QAC5B,IAAI;UACA,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAAE,2GAA0GC,kBAAkB,CAACR,KAAK,CAAE,6BAA4B,CAAC;UACnMG,UAAU,CAACG,QAAQ,CAACG,IAAI,CAACP,OAAO,CAAC;QACrC,CAAC,CAAC,OAAOQ,KAAK,EAAE;UACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAChD;MACJ,CAAC;MAEDL,WAAW,CAAC,CAAC;IACjB,CAAC,MAAM;MACHF,UAAU,CAAC,EAAE,CAAC;IAClB;EACJ,CAAC,EAAE,CAACH,KAAK,CAAC,CAAC;EAEX,oBACIJ,OAAA;IAAAgB,QAAA,gBACIhB,OAAA;MACIiB,IAAI,EAAC,MAAM;MACXC,KAAK,EAAEd,KAAM;MACbe,QAAQ,EAAGC,CAAC,IAAKf,QAAQ,CAACe,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC1CI,WAAW,EAAC,kCAAkC;MAC9CC,SAAS,EAAC;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CAAC,EACDrB,OAAO,CAACE,MAAM,GAAG,CAAC,iBACfR,OAAA;MAAIuB,SAAS,EAAC,SAAS;MAAAP,QAAA,EAClBV,OAAO,CAACsB,GAAG,CAACC,IAAI;QAAA,IAAAC,kBAAA,EAAAC,oBAAA;QAAA,oBACb/B,OAAA;UAAkBgC,OAAO,EAAEA,CAAA,KAAM9B,QAAQ,CAAC2B,IAAI,CAAE;UAAAb,QAAA,GAC3Ca,IAAI,CAACI,KAAK,IAAIJ,IAAI,CAACK,IAAI,EAAC,IAAE,EAAC,EAAAJ,kBAAA,GAAAD,IAAI,CAACM,YAAY,cAAAL,kBAAA,uBAAjBA,kBAAA,CAAmBM,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,OAAAL,oBAAA,GAAIF,IAAI,CAACQ,cAAc,cAAAN,oBAAA,uBAAnBA,oBAAA,CAAqBK,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GAAC,GAC3G;QAAA,GAFSP,IAAI,CAACS,EAAE;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEZ,CAAC;MAAA,CACR;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CACP;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAACxB,EAAA,CAzCIF,MAAM;AAAAsC,EAAA,GAANtC,MAAM;AA2CZ,eAAeA,MAAM;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}